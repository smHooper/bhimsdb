<!DOCTYPE html>
<html>
<head>
	<meta charset='utf-8'>
	<meta name="viewport" content="width=device-width,height=device-height, user-scalable=no" />
	<title>DENA BHIMS query</title>
	<!--jquery -->
	<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.1.0/jquery.min.js"></script>
	<link rel="stylesheet" href="https://ajax.googleapis.com/ajax/libs/jqueryui/1.12.1/themes/smoothness/jquery-ui.css">
	<script src="https://ajax.googleapis.com/ajax/libs/jqueryui/1.12.1/jquery-ui.min.js"></script>
	
	<!-- bootstrap -->
	<link href="//maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css" rel="stylesheet" id="bootstrap-css"/>
	<script src="https://cdn.jsdelivr.net/npm/bootstrap@4.6.0/dist/js/bootstrap.min.js" integrity="sha384-+YQ4JLhjyBLPDQt//I+STsc9iw4uQqACwlvpslubQzn4u2UU2UFM80nGisd026JF" crossorigin="anonymous"></script>

	<!--fonts -->
	<link rel="preconnect" href="https://fonts.gstatic.com">
	<link href="https://fonts.googleapis.com/css2?family=Barlow:ital,wght@0,400;0,500;0,600;0,700;1,400;1,500;1,600;1,700&display=swap" rel="stylesheet">

	<!-- font awesome --> 
	<link href="packages/fontawesome/css/all.min.css" rel="stylesheet">

	<!-- select2 -->
	<link href="https://cdn.jsdelivr.net/npm/select2@4.1.0-rc.0/dist/css/select2.min.css" rel="stylesheet" />
	<script src="https://cdn.jsdelivr.net/npm/select2@4.1.0-rc.0/dist/js/select2.min.js"></script>
	
	<!-- Leaflet -->
	<link rel="stylesheet" href="https://unpkg.com/leaflet@1.7.1/dist/leaflet.css"
		integrity="sha512-xodZBNTC5n17Xt2atTPuE1HxjVMSvLVW9ocqUKLsCC5CXdbqCmblAshOMAS6/keqq/sMZMZ19scR4PsZChSR7A=="
		crossorigin=""/>
	<script src="https://unpkg.com/leaflet@1.7.1/dist/leaflet.js"
		integrity="sha512-XQoYMqMTK8LvdxXYG3nZ448hOEQiglfqkJs1NOQV44cWnUrBc8PkAOcXy20w0vlaXaVUearIOBhiXZ5V3ynxwA=="
		crossorigin=""></script>

	<link rel="stylesheet" href="css/bhims-entry.css">
	<link rel="stylesheet" href="css/query.css">
	<link rel="stylesheet" href="css/bhims.css">
</head>

<body>
	 <!-- loading indicator should be hidden and will only be shown when loading data -->
	<div id="loading-indicator-background" class="modal-background modal-background-light hidden" ></div>
	<div id="loading-indicator" class="hidden"></div>


	<nav class="bhims-header-menu">
		<div class="header-menu-item-group">
			<a class="home-button" role="button" href="bhims-index.html">
				<img src="imgs/bhims_icon_50px.svg" alt="home icon">
			</a>
			<h4 class="page-tile">BHIMS query</h4>
		</div>
		<div class="header-menu-item-group" id="show-query-options-container">
			<button id="show-query-options-button" class="text-only-button">
				<h6>query options</h6>
				<i class="fa fa-chevron-down pull-right"></i>
			</button>
			<div id="query-options-drawer" class="nav-dropdown nav-dropdown-drawer">
				<div id="query-options-drawer-body">
					<ul class="tabs" role="tablist">
						<!-- filled dynamically -->
					</ul>
					<!-- 
						The tab content of each tab in the above .tabs <ul> has an absolute position  
						and a parent that doesn't have a height set. So create a solid backdrop that
						will appear to be the tab contents' background
					-->
					<!-- <div class="query-options-tab-backdrop"></div> -->
				</div>
				<div id="query-options-drawer-footer">
					<button id="run-query-button" class="generic-button" aria-label="Run query">run query</button>
					<button id="copy-query-link-button" class="generic-button icon-button hidden">
						<i class="fas fa-link fa-2x">
						</i>
						<strong>get query link</strong>
					</button>
				</div>
			</div>
		</div>
		<div class="header-menu-item-group" id="username-container">
			<img id="username-icon" src="imgs/user_icon_50px.svg" alt="username icon">
			<label id="username"></label>
		</div>
	</nav>

	<main class="dashboard-main">

		<!-- nav sidebar -->
		<div class="main-container">
			<nav class="sidebar">
				<div class="sidebar-sticky">
					<div class="sidebar-background"></div>
					<ul class="sidebar-nav-group">

						<li class="nav-item">
							<a href="bhims-dashboard.html">
								<img src="imgs/dashboard_icon_50px.svg">
								<span>dashboard</span>
							</a>
						</li>

						<li class="nav-item selected">
							<a href="query.html">
								<img src="imgs/query_icon_50px.svg">
								<span>query data</span>
							</a>
						</li>

						<li class="nav-item">
							<a href="manage-users.html">
								<img src="imgs/user_icon_50px.svg">
								<span>manage users</span>
							</a>
						</li>

						<li class="nav-item">
							<a href="config.html">
								<img src="imgs/settings_icon_50px.svg">
								<span>configure app</span>
							</a>
						</li>

						<li class="nav-item">
							<a href="bhims-entry-dena.html">
								<img src="imgs/entry_form_icon_50px.svg">
								<span>new encounter</span>
							</a>
						</li>

					</ul>

				</div>
			</nav>

			<!--main dashboard content -->
			<div class="main-content-wrapper">
				<div id="result-summary-pane" class="query-result-pane col-4">
					<div id="query-result-list-container" class="result-summary-container">
						<ul id="query-result-list">
							<!-- list built dynamically -->
						</ul>
					</div>
					<div id="query-result-map-container" class="result-summary-container">
						<div id="query-result-map" class="map"></div>
					</div>
				</div>

				<div id="row-details-pane" class="query-result-pane accordion col-8">
					<!-- fields added dynamically-->
				</div>

			</div> <!--main-content-wrapper-->

		</div> <!--wrapper-->
	</main>

	<!--alert/message modal -->
	<div class="modal fade" id="alert-modal" tabindex="-1" role="dialog" aria-labelledby="" aria-hidden="true"></div>
	
	<!-- map modal -->
	<div class="modal fade lightbox-modal bhims-entry-modal" id="map-modal" tabindex="-1" role="dailog" aria-hidden="true">
	  <div class="modal-dialog" role="document">
	    <div class="modal-content">
	      <div class="modal-body modal-img-body">
	      	<div class="modal-header-container">
		      	<div class="modal-img-body-header">
			        <button type="button" class="close icon-button" data-dismiss="modal" aria-label="Minimize map">
			          <img src="imgs/minimize_window_icon_50px.svg"></img>
			        </button>
		      	</div>
		    </div>
		    
		    <div class="map modal-map" id="modal-encounter-location-map">  
		    </div>
	      
	      </div>
	    </div>
	  </div>
	</div>

	<!--attachment preview modal -->
	<div class="modal fade lightbox-modal" id="attachment-modal" tabindex="-1" role="dialog" aria-hidden="true">
	  <div class="modal-dialog" role="document" data-dismiss="modal">
	    <div class="modal-content" data-dismiss="modal">
	      <div class="modal-body modal-img-body" >
	      	<div class="modal-header-container" data-dismiss="modal">
		      	<div class="modal-img-body-header">
			        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
			          <span aria-hidden="true">&times;</span>
			        </button>
		      	</div>
		    </div>
	      	<img class="modal-img hidden" src="#" id="modal-img-preview" alt="preview of uploaded image">
	      	<video class="modal-img hidden" id="modal-video-preview" width="320" height="240" controls alt="preview of uploaded video">
	      		<source src="#">
	      		Sorry, your browser does not support HTML video content
	      	</video>
	      	<audio class="modal-img hidden" id="modal-audio-preview" controls alt="preview of uploaded audio">
	      		<source src="#">
	      		Sorry, your browser does not support HTML audio content
	      	</audio>
	      </div>
	    </div>
	  </div>
	</div>
	
	<script src="js/bhims.js"></script>
	<script src="js/bhims-entry_.js"></script>
	<script src="js/query.js"></script>
	<script src="js/bhims-custom.js"></script>

	<script>

		var entryForm,
			bhimsQuery;
		$(document).ready(function(){
			entryForm = new BHIMSEntryForm();
			entryForm.confirmLocationSelectChange = false;
			
			bhimsQuery = new BHIMSQuery();
			bhimsQuery.configureQuery();

		})
	</script>

</body>

</html>
